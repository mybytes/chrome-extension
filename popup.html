<!DOCTYPE html>
<html ng-app="myBytes" ng-csp="">
    <head>
        <link rel="stylesheet" href="css/popup.css">
        <script src="js/lib/angular.min.js"></script>

        <script src="js/app/app.js"></script>
        <script src="js/app/popup.js"></script>
    </head>
    <body id="popup">
        <header>
            <h1>myBytes Chrome Extension</h1>
        </header>

        <div ng-controller="PageController">
            <div ng-switch on="authorizationState">
                <div ng-switch-when="hasAuthorized">
                    myBytes is already collecting your data from this site.
                    <div>
                        Data collection status:
                        <table>
                            <tr><th>Date</th><th>Description</th></tr>
                            <tr ng-repeat="job in jobs">
                                <td>{{job.date}}</td>
                                <td>{{job.description}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div ng-switch-when="needToAuthorize">
                    <a href="#">Authorize myBytes to collect data from this site</a>
                </div>
                <div ng-switch-default>
                    myBytes cannot collect data from this site.
                    <a href="#">Get involved</a> so we can!
                </div>
            </div>
        </div>
    </body>
</html>